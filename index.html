<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HR Dashboard</title>

<style>
:root{
 --bg:#f4f6f9;
 --card:#ffffff;
 --text:#222;
 --primary:#1976d2;
 --shadow:0 10px 25px rgba(0,0,0,.15);
}
body.dark{
 --bg:#0f0f0f;
 --card:#1c1c1c;
 --text:#eee;
 --primary:#64b5f6;
}
body{
 margin:0;
 font-family:Segoe UI,Tahoma;
 background:var(--bg);
 color:var(--text);
}

/* Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ */
.back-btn{
 position:fixed;
 top:16px;
 right:16px;
 width:46px;
 height:46px;
 border-radius:50%;
 background:var(--card);
 box-shadow:var(--shadow);
 display:flex;
 align-items:center;
 justify-content:center;
 font-size:22px;
 cursor:pointer;
 z-index:100;
}
.back-btn:hover{background:var(--primary);color:#fff}

/* LOGIN */
.login{
 max-width:420px;
 margin:80px auto;
 background:var(--card);
 padding:30px;
 border-radius:20px;
 box-shadow:var(--shadow);
 text-align:center;
}
.login input, .login button{
 width:100%;
 padding:14px;
 margin-top:12px;
 border-radius:14px;
 border:1px solid #ccc;
}
.login button{
 background:var(--primary);
 color:#fff;
 border:0;
 font-size:16px;
}
.msg{color:red;margin-top:10px}

/* DASHBOARD */
.dashboard{display:none;padding:20px}
.top{
 display:flex;
 justify-content:space-between;
 flex-wrap:wrap;
 gap:15px;
 margin-bottom:20px;
}
.info-card{
 background:var(--card);
 padding:14px 18px;
 border-radius:16px;
 box-shadow:var(--shadow);
}

/* PAGES */
.pages{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
 gap:18px;
}
.page{
 background:var(--card);
 padding:22px;
 border-radius:18px;
 box-shadow:var(--shadow);
 text-align:center;
 cursor:pointer;
 transition:.25s;
}
.page:hover{
 background:var(--primary);
 color:#fff;
 transform:translateY(-5px);
}

/* Responsive */
@media(max-width:768px){
 .login{margin:40px 16px}
 .top{flex-direction:column}
}
</style>
</head>

<body>

<div class="back-btn" onclick="history.back()">â¬…ï¸</div>

<!-- LOGIN -->
<div class="login" id="loginBox">
<h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
<input id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
<input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
<button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
<div class="msg" id="msg"></div>
</div>

<!-- DASHBOARD -->
<div class="dashboard" id="dashboard">
 <div class="top">
  <div class="info-card">ğŸ‘¤ <span id="uName"></span></div>
  <div class="info-card">ğŸ¢ <span id="uBranch"></span></div>
  <div class="info-card" onclick="toggleDark()" style="cursor:pointer">ğŸŒ™ Dark Mode</div>
 </div>

 <div class="pages">
  <div class="page" onclick="go('pages/employees.html')">ğŸ‘¥ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</div>
  <div class="page" onclick="go('pages/sales.html')">ğŸ’° Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
  <div class="page" onclick="go('pages/reports.html')">ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</div>
 </div>
</div>

<script>
const DB="https://hr-mange-1ec00-default-rtdb.firebaseio.com";
let currentUser=null;

function login(){
 msg.innerHTML="";
 fetch(DB+"/USAR.json")
 .then(r=>r.json())
 .then(d=>{
  for(const id in d){
   if(d[id].username==username.value && d[id].password==password.value){
    currentUser=d[id];
    localStorage.setItem("session",JSON.stringify(currentUser));
    loadDashboard();
    return;
   }
  }
  msg.innerHTML="âŒ Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©";
 });
}

function loadDashboard(){
 loginBox.style.display="none";
 dashboard.style.display="block";
 uName.textContent=currentUser.username;
 uBranch.textContent=currentUser.branchName;
}

function go(url){
 location.href = url; // Ù†ÙØ³ Ø§Ù„ØµÙØ­Ø© âœ”ï¸ Ø¨Ø¯ÙˆÙ† ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯
}

function toggleDark(){
 document.body.classList.toggle("dark");
}

const s=localStorage.getItem("session");
if(s){
 currentUser=JSON.parse(s);
 loadDashboard();
}
</script>

</body>
</html>

